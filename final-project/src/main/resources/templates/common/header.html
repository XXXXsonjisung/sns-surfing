<link rel="stylesheet" th:href="@{/css/common/header.css}">


<header>
        <div class="logo_img">
			<a th:href="@{/}">
	            <img th:src="@{/common/images/Rectangle110.png}" id="logo">			
			</a>
        </div>

        <a id="logoText" th:href="@{/}">Surfing</a>

        <nav>
            <form action="#">
                <fieldset id="search">
                    <input id="search_id" type="search" placeholder="검색" >
                    <button>
                        <img th:src="@{/common/images/Rectangle112.png}" id="search_icon">
                    </button>
                </fieldset>
            </form>
        </nav>

        <div class="right_button">
            <div>
                <i id="bell" class="fa-solid fa-bell" style="color: #ffffff;"></i>
            </div>
            <div>
                <button class="w-btn-neon2" type="button">
                    업로드
                </button>
            </div>
        </div>
        
        
		<div id="myModal" class="modal">
		    <div class="modal-content">
		        <span class="close">&times;</span>
		        <h2>게시글 작성</h2>
		        <div id="modalPostContent" contenteditable="true" placeholder="게시글 내용을 입력하세요">
		            <!-- 사용자가 텍스트와 미디어를 입력할 수 있는 공간입니다 -->
		        </div>
		        <input type="file" id="imageInput" accept="image/*"> <!-- 이미지 삽입 버튼 -->
		        <input type="file" id="videoInput" accept="video/*"> <!-- 동영상 삽입 버튼 -->
		        <button onclick="submitPost()">게시</button>
		    </div>
		</div>

    </header>
    
      	 <script>
			var uploadBtn = document.querySelector('.w-btn-neon2');
			uploadBtn.addEventListener('click', function() {
			    var modal = document.getElementById('myModal');
			    modal.style.display = "block";
			});
			
			//----------------------------------------------------
			

			// 닫기 버튼 요소를 찾습니다.
			var closeBtn = document.querySelector('.close');
			
			// 닫기 버튼에 클릭 이벤트를 추가합니다.
			closeBtn.addEventListener('click', function() {
			    var modal = document.getElementById('myModal');
			    modal.style.display = "none"; // 모달을 숨깁니다.
			});
		
		/* ------------------------------------------*/
		
		document.getElementById('imageInput').addEventListener('change', function(event) {
		    const file = event.target.files[0];
		    const reader = new FileReader();
		
		    reader.onload = function(e) {
		        const img = document.createElement('img');
		        img.src = e.target.result;
		        img.style.maxWidth = '300px'; // 이미지의 최대 너비 설정
		        img.style.maxHeight = '300px'; // 이미지의 최대 높이 설정
		
		        const modalPostContent = document.getElementById('modalPostContent');
		        modalPostContent.appendChild(img);
		        modalPostContent.appendChild(document.createElement('br')); // 줄 바꿈 추가
		    }
		
		    reader.readAsDataURL(file);
		});
		
		document.getElementById('videoInput').addEventListener('change', function(event) {
		    const file = event.target.files[0];
		    const reader = new FileReader();
		
		    reader.onload = function(e) {
		        const video = document.createElement('video');
		        video.src = e.target.result;
		        video.controls = true;
		        video.style.maxWidth = '300px'; // 동영상의 최대 너비 설정
		        video.style.maxHeight = '300px'; // 동영상의 최대 높이 설정
		
		        const modalPostContent = document.getElementById('modalPostContent');
		        modalPostContent.appendChild(video);
		        modalPostContent.appendChild(document.createElement('br')); // 줄 바꿈 추가
		    }
		
		    reader.readAsDataURL(file);
		});
		
		
		
		
		//00000000000000000000000000000000000000000000000000000
		
		document.getElementById('imageInput').addEventListener('change', function(event) {
	    const file = event.target.files[0];
	    const reader = new FileReader();
	
	    reader.onload = function(e) {
	        const img = document.createElement('img');
	        img.src = e.target.result;
	        img.style.maxWidth = '300px'; // 이미지의 최대 너비 설정
	        img.style.maxHeight = '300px'; // 이미지의 최대 높이 설정
	
	        const postContent = document.createElement('div');
	        postContent.classList.add('post');
	        
	        const postHead = document.createElement('div');
	        postHead.classList.add('post_head');
	
	        const profile = document.createElement('div');
	        profile.classList.add('profile');
	
	        const profileImg = document.createElement('img');
	        profileImg.src = "@{/images/post/555.jpg}"; // 사용자 이미지 경로
	
	        profile.appendChild(profileImg);
	
	        const username = document.createElement('h1');
	        username.textContent = "@{session.loginMember}"; // 사용자 이름
	
	        postHead.appendChild(profile);
	        postHead.appendChild(username);
	
	        const postContentDiv = document.createElement('div');
	        postContentDiv.classList.add('post_content');
	        postContentDiv.appendChild(img);
	
	        postContent.appendChild(postHead);
	        postContent.appendChild(postContentDiv);
	
	        const userPost = document.createElement('div');
	        userPost.classList.add('user_post');
	        userPost.appendChild(postContent);
	
	        // 여기서 userPost를 원하는 위치에 추가해주세요
	    }
	
	    reader.readAsDataURL(file);
	});
		
		
		
		
		
		
		
		
		
		
		
		
		</script>

		
		
		
		
		